<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KM Real World SQL</title>

<style>
:root{
  --bg:#0f172a;
  --panel:#020617;
  --card:#020617;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --accent:#38bdf8;
  --border:#334155;
}
body.light{
  --bg:#f8fafc;
  --panel:#ffffff;
  --card:#ffffff;
  --text:#020617;
  --muted:#475569;
  --accent:#2563eb;
  --border:#cbd5e1;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,Arial;
  background:var(--bg);
  color:var(--text);
}
.app{
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* HEADER */
.header{
  display:flex;
  align-items:center;
  gap:12px;
  padding:14px 16px;
}
.header img{width:48px;height:48px}
.header h1{margin:0;font-size:1.4rem}
.header p{margin:2px 0 0;font-size:.8rem;color:var(--muted)}
.toggle{margin-left:auto;cursor:pointer;font-size:1.2rem}

/* MAIN */
.main{
  flex:1;
  display:flex;
  flex-direction:column;
  padding:16px;
  gap:16px;
}

/* TASK HERO */
.task-hero{
  background:linear-gradient(180deg,var(--panel),transparent);
  border:1px solid var(--border);
  border-radius:14px;
  padding:18px;
}
.task-hero h2{margin:0;font-size:1.3rem}
.task-hero p{margin:6px 0 12px;color:var(--muted)}

/* PROGRESS */
.progress small{color:var(--muted)}
.bar{
  height:8px;
  background:#020617;
  border-radius:6px;
  overflow:hidden;
  margin:6px 0 12px;
}
.fill{
  height:100%;
  width:0%;
  background:var(--accent);
  transition:.3s;
}

/* PRACTICE */
.practice{
  display:flex;
  flex-direction:column;
  gap:10px;
}
select,textarea,button{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--text);
  font-size:1rem;
}
textarea{min-height:150px;font-family:monospace}
button{
  background:var(--accent);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}

/* EDUCATION */
.education{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:18px;
}
.education h3{margin-top:0}
.education ul{padding-left:18px}

/* MODAL */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  padding:20px;
}
.modal-content{
  background:var(--card);
  padding:18px;
  border-radius:14px;
  max-width:600px;
  margin:auto;
}
.close{cursor:pointer;color:var(--muted);text-align:right}

/* FOOTER */
footer{
  text-align:center;
  font-size:.75rem;
  color:var(--muted);
  padding:10px;
}
</style>
</head>

<body>
<div class="app">

<!-- HEADER -->
<div class="header">
  <img src="logo.png">
  <div>
    <h1>KM Real World SQL</h1>
    <p>Learn SQL the way companies use it</p>
  </div>
  <div class="toggle" onclick="document.body.classList.toggle('light')">üåô</div>
</div>

<!-- MAIN -->
<div class="main">

<div class="task-hero">

  <div class="progress">
    <small id="progressText">Task 1 of 10</small>
    <div class="bar"><div class="fill" id="progressFill"></div></div>
  </div>

  <h2 id="taskTitle"></h2>
  <p id="taskDesc"></p>

  <div class="practice">
    <select id="fieldSelect" onchange="loadField()">
      <option value="hospitality">Hospitality</option>
      <option value="logistics">Logistics</option>
      <option value="office">Office</option>
    </select>

    <select id="taskSelect" onchange="changeTask()"></select>

    <textarea id="sqlBox"></textarea>

    <button>‚ñ∂ Run Query</button>
    <button onclick="openModal()">‚ùó Understand this</button>
  </div>
</div>

<div class="education">
  <h3>Why this works</h3>
  <p id="whyText"></p>

  <h3>Learning tips</h3>
  <ul>
    <li>Read the task before writing SQL</li>
    <li>Think what data is needed</li>
    <li>‚ùó explains the thinking, not just the answer</li>
  </ul>
</div>

</div>

<footer>¬© 2025 KM Real World SQL</footer>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <div class="close" onclick="closeModal()">‚úñ</div>
    <h3>How to think</h3>
    <p id="explainText"></p>
  </div>
</div>

<script>
const data={
hospitality:[
{t:"Show all guests",d:"View all guests",sql:"SELECT * FROM guests;",why:"We want all rows and columns.",exp:"Use SELECT * when you need everything."},
{t:"Guest names",d:"Only guest names",sql:"SELECT name FROM guests;",why:"Select specific columns.",exp:"Mention column names instead of *."},
{t:"Checked-in guests",d:"Filter by status",sql:"SELECT * FROM guests WHERE status='Checked In';",why:"WHERE filters rows.",exp:"Text values need quotes."},
{t:"Room above 200",d:"Numeric filter",sql:"SELECT * FROM guests WHERE room_no>200;",why:"Filters numeric values.",exp:"Numbers don‚Äôt use quotes."},
{t:"Limit results",d:"Show few rows",sql:"SELECT * FROM guests LIMIT 5;",why:"LIMIT reduces output.",exp:"LIMIT controls rows count."},
{t:"Room numbers",d:"Room list",sql:"SELECT room_no FROM guests;",why:"Single column selection.",exp:"You can select one column."},
{t:"Guest & room",d:"Two columns",sql:"SELECT name,room_no FROM guests;",why:"Multiple columns.",exp:"Separate columns by comma."},
{t:"Sort by room",d:"Order data",sql:"SELECT * FROM guests ORDER BY room_no;",why:"ORDER BY sorts rows.",exp:"Default order is ASC."},
{t:"Distinct rooms",d:"Remove duplicates",sql:"SELECT DISTINCT room_no FROM guests;",why:"DISTINCT removes duplicates.",exp:"Use DISTINCT carefully."},
{t:"First 3 guests",d:"Limit rows",sql:"SELECT * FROM guests LIMIT 3;",why:"Limits output.",exp:"LIMIT works after SELECT."}
],
logistics:[
{t:"All shipments",d:"View shipments",sql:"SELECT * FROM shipments;",why:"Shows shipment data.",exp:"Basic SELECT."},
{t:"Pending shipments",d:"Filter status",sql:"SELECT * FROM shipments WHERE status='Pending';",why:"Filters rows.",exp:"WHERE clause."},
{t:"Shipment ids",d:"ID list",sql:"SELECT id FROM shipments;",why:"Single column.",exp:"Select needed column."},
{t:"Destinations",d:"Where shipments go",sql:"SELECT destination FROM shipments;",why:"Column select.",exp:"Only required data."},
{t:"Delivered",d:"Completed shipments",sql:"SELECT * FROM shipments WHERE status='Delivered';",why:"Status filter.",exp:"Text filter."},
{t:"Sort by date",d:"Order data",sql:"SELECT * FROM shipments ORDER BY ship_date;",why:"Sorts records.",exp:"ORDER BY usage."},
{t:"Limit 5",d:"Few rows",sql:"SELECT * FROM shipments LIMIT 5;",why:"Limits output.",exp:"LIMIT rows."},
{t:"Warehouse list",d:"Warehouses",sql:"SELECT * FROM warehouses;",why:"Reads table.",exp:"Simple SELECT."},
{t:"Suppliers",d:"Supplier list",sql:"SELECT * FROM suppliers;",why:"Reads suppliers.",exp:"Basic read."},
{t:"Shipment ids only",d:"IDs",sql:"SELECT id FROM shipments;",why:"Column selection.",exp:"One column query."}
],
office:[
{t:"All employees",d:"Employee list",sql:"SELECT * FROM employees;",why:"Shows employees.",exp:"Basic SELECT."},
{t:"Employee names",d:"Names only",sql:"SELECT name FROM employees;",why:"Column select.",exp:"Use column names."},
{t:"HR staff",d:"Filter dept",sql:"SELECT * FROM employees WHERE department='HR';",why:"Department filter.",exp:"WHERE text."},
{t:"Salary above 30k",d:"Numeric filter",sql:"SELECT * FROM employees WHERE salary>30000;",why:"Numeric WHERE.",exp:"No quotes for numbers."},
{t:"Admin staff",d:"Admin dept",sql:"SELECT * FROM employees WHERE department='Admin';",why:"Text filter.",exp:"Quotes required."},
{t:"Sort by salary",d:"Order rows",sql:"SELECT * FROM employees ORDER BY salary;",why:"ORDER BY sorts.",exp:"ASC default."},
{t:"Limit 5",d:"Few rows",sql:"SELECT * FROM employees LIMIT 5;",why:"Limits output.",exp:"LIMIT usage."},
{t:"Employee phones",d:"Contacts",sql:"SELECT name,phone FROM employees;",why:"Two columns.",exp:"Comma separated."},
{t:"Attendance",d:"Attendance list",sql:"SELECT * FROM attendance;",why:"Reads table.",exp:"Simple read."},
{t:"Present staff",d:"Filter status",sql:"SELECT * FROM attendance WHERE status='Present';",why:"Status filter.",exp:"WHERE condition."}
]
};

let currentField="hospitality";

function loadField(){
  currentField=fieldSelect.value;
  taskSelect.innerHTML="";
  data[currentField].forEach((x,i)=>{
    let o=document.createElement("option");
    o.value=i;
    o.textContent=`Task ${i+1}: ${x.t}`;
    taskSelect.appendChild(o);
  });
  changeTask();
}

function changeTask(){
  const i=taskSelect.value;
  const t=data[currentField][i];
  taskTitle.innerText=t.t;
  taskDesc.innerText=t.d;
  sqlBox.value=t.sql;
  whyText.innerText=t.why;
  explainText.innerText=t.exp;
  progressFill.style.width=((i+1)/10*100)+"%";
  progressText.innerText=`Task ${Number(i)+1} of 10`;
}

function openModal(){modal.style.display="block";}
function closeModal(){modal.style.display="none";}

loadField();
</script>

</body>
</html>
