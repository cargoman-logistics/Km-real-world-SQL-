<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KM Real World SQL</title>

<style>
:root{
  --bg:#0f172a;
  --panel:#020617;
  --card:#020617;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --accent:#38bdf8;
  --border:#334155;
}
body.light{
  --bg:#f8fafc;
  --panel:#ffffff;
  --card:#ffffff;
  --text:#020617;
  --muted:#475569;
  --accent:#2563eb;
  --border:#cbd5e1;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,Arial;
  background:var(--bg);
  color:var(--text);
}
.app{
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* HEADER */
.header{
  display:flex;
  align-items:center;
  gap:12px;
  padding:14px 16px;
}
.header img{width:44px;height:44px}
.header h1{margin:0;font-size:1.3rem}
.header p{margin:2px 0 0;font-size:.8rem;color:var(--muted)}
.toggle{margin-left:auto;cursor:pointer;font-size:1.2rem}

/* MAIN */
.main{
  flex:1;
  padding:14px;
}

/* CARD */
.card{
  background:linear-gradient(180deg,var(--panel),transparent);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
  max-width:720px;
  margin:auto;
}

/* PROGRESS */
.progress strong{
  font-size:.85rem;
}
.bar{
  height:10px;
  background:#020617;
  border-radius:6px;
  overflow:hidden;
  margin:6px 0 14px;
}
.fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#38bdf8,#0ea5e9);
}

/* PRACTICE */
.practice{display:flex;flex-direction:column;gap:10px}
label{font-size:.8rem;color:var(--muted)}
select,textarea,button{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--bg);
  color:var(--text);
  font-size:1rem;
}
textarea{min-height:150px;font-family:monospace}
button{
  background:var(--accent);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}

/* EDUCATION */
.education{
  margin-top:14px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
}
.education h3{margin-top:0}

/* MODAL */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  padding:20px;
}
.modal-content{
  background:var(--card);
  padding:18px;
  border-radius:14px;
  max-width:600px;
  margin:auto;
}
.close{text-align:right;cursor:pointer;color:var(--muted)}

footer{
  text-align:center;
  font-size:.7rem;
  color:var(--muted);
  padding:10px;
}
</style>
</head>

<body>
<div class="app">

<!-- HEADER -->
<div class="header">
  <img src="logo.png">
  <div>
    <h1>KM Real World SQL</h1>
    <p>Learn SQL the way companies use it</p>
  </div>
  <div class="toggle" onclick="document.body.classList.toggle('light')">üåô</div>
</div>

<div class="main">

<div class="card">

  <div class="progress">
    <strong id="progressText"></strong>
    <div class="bar"><div class="fill" id="progressFill"></div></div>
  </div>

  <h2 id="taskTitle"></h2>
  <p id="taskDesc" style="color:var(--muted)"></p>

  <div class="practice">
    <label>Choose field</label>
    <select id="fieldSelect" onchange="changeField()"></select>

    <label>Select task</label>
    <select id="taskSelect" onchange="changeTask()"></select>

    <textarea id="sqlBox"></textarea>

    <button>‚ñ∂ Run Query</button>
    <button onclick="openModal()">‚ùó Understand this</button>
  </div>
</div>

<div class="education">
  <h3>Why this works</h3>
  <p id="whyText"></p>

  <h3>Learning tips</h3>
  <ul>
    <li>Translate business problem into data need</li>
    <li>SQL answers questions, not syntax</li>
    <li>Progress is saved automatically</li>
  </ul>
</div>

</div>

<footer>¬© 2025 KM Real World SQL</footer>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <div class="close" onclick="closeModal()">‚úñ</div>
    <h3>How to think</h3>
    <p id="explainText"></p>
  </div>
</div>

<script>
const data={
Hospitality:[
["Show all guests","View all guests","SELECT * FROM guests;","Returns all guest records.","SELECT * fetches all columns."],
["Guest names","Only names","SELECT name FROM guests;","Shows only names.","Select specific column."]
],
Logistics:[
["All shipments","View shipments","SELECT * FROM shipments;","Reads shipment table.","Basic SELECT."]
],
Office:[
["All employees","Employee list","SELECT * FROM employees;","Shows employees.","Basic SELECT."]
],
Warehouse:[
["All stock","Stock list","SELECT * FROM stock;","Warehouse inventory.","Basic table read."]
],
Retail:[
["All products","Product list","SELECT * FROM products;","Product table.","Basic SELECT."]
],
"IT Support":[
["All tickets","Support tickets","SELECT * FROM tickets;","Ticket records.","Basic SELECT."]
]
};

let fieldSelect=document.getElementById("fieldSelect");
let taskSelect=document.getElementById("taskSelect");

function loadFields(){
  Object.keys(data).forEach(f=>{
    let o=document.createElement("option");
    o.value=f;o.textContent=f;
    fieldSelect.appendChild(o);
  });
}

function changeField(){
  localStorage.setItem("field",fieldSelect.value);
  loadTasks();
}

function loadTasks(){
  taskSelect.innerHTML="";
  data[fieldSelect.value].forEach((t,i)=>{
    let o=document.createElement("option");
    o.value=i;
    o.textContent=`Task ${i+1}: ${t[0]}`;
    taskSelect.appendChild(o);
  });
  changeTask();
}

function changeTask(){
  let f=fieldSelect.value;
  let i=taskSelect.value;
  let t=data[f][i];

  taskTitle.innerText=t[0];
  taskDesc.innerText=t[1];
  sqlBox.value=t[2];
  whyText.innerText=t[3];
  explainText.innerText=t[4];

  progressText.innerText=`${f} ¬∑ Task ${Number(i)+1} of ${data[f].length}`;
  progressFill.style.width=((i+1)/data[f].length*100)+"%";

  localStorage.setItem("task",i);
}

function openModal(){modal.style.display="block";}
function closeModal(){modal.style.display="none";}

loadFields();

fieldSelect.value=localStorage.getItem("field") || "Hospitality";
changeField();
taskSelect.value=localStorage.getItem("task") || 0;
changeTask();
</script>

</body>
   </html>
